(this["webpackJsonphostel-management"]=this["webpackJsonphostel-management"]||[]).push([[0],{396:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},402:function(e,t,n){},403:function(e,t,n){},644:function(e,t){},646:function(e,t){},657:function(e,t){},659:function(e,t){},686:function(e,t){},688:function(e,t){},689:function(e,t){},694:function(e,t){},696:function(e,t){},715:function(e,t){},727:function(e,t){},730:function(e,t){},789:function(e,t,n){},790:function(e,t,n){},791:function(e,t,n){},792:function(e,t,n){},793:function(e,t,n){},794:function(e,t,n){},795:function(e,t,n){},796:function(e,t,n){},797:function(e,t,n){},798:function(e,t,n){},799:function(e,t,n){},800:function(e,t,n){},801:function(e,t,n){},802:function(e,t,n){},803:function(e,t,n){},804:function(e,t,n){},805:function(e,t,n){},806:function(e,t,n){},807:function(e,t,n){},808:function(e,t,n){},810:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(76),s=n.n(r),i=(n(396),n(6)),o=(n(397),n(66)),l=n(17),u=(n(398),n(816)),j=n(817),b=n(387),d=n(388),h=n(818),O=n(2);var p=function(){return console.log("/hostel-management"),Object(O.jsx)("div",{className:"p-landinpage",children:Object(O.jsx)(u.a,{children:Object(O.jsxs)(j.a,{children:[Object(O.jsxs)(b.a,{sm:12,lg:6,children:[Object(O.jsx)("h1",{children:"Manage your hostels from anyware !"}),Object(O.jsx)("p",{className:"text-center",children:"Create your own hostels and and rooms, track capacity, system calls, all in one app!"}),Object(O.jsx)(j.a,{className:"justify-content-center",children:Object(O.jsx)(d.a,{variant:"primary",size:"lg",children:"Get Started"})})]}),Object(O.jsx)(b.a,{sm:0,lg:6,children:Object(O.jsx)(h.a,{src:"/hostel-management/img/hostel.png"})})]})})})},x=n(5),f=n.n(x),m=n(50),v=n(11),g=(n(402),n(824)),y=n(819);n(403);var w=function(e){var t=e.type,n=e.placeHolder,a=e.onChange,c=e.value;return Object(O.jsx)("div",{className:"",children:Object(O.jsxs)(g.a.Group,{controlId:"formBasicCheckbox",children:["date"===t&&Object(O.jsx)(g.a.Label,{children:n}),Object(O.jsx)(g.a.Control,{value:c,type:t,placeholder:n,onChange:a})]})})},N=n(98),C=n(99),k=n(68),S=n(390),H=n(13),U=n.n(H),T=function(){function e(t){Object(N.a)(this,e),this.id=t.id,this.pricePerDay=t.get("pricePerDay"),this.maxBed=t.get("maxBeds"),this.roomNumber=t.get("roomNumber"),this.notes=t.get("notes"),this.parseRoom=t}return Object(C.a)(e,[{key:"deleteRoom",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.parseRoom.destroy(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateRoom",value:function(){var e=Object(v.a)(f.a.mark((function e(t,n,a,c){var r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=this.parseRoom).set("roomNumber",t),r.set("maxBeds",n),r.set("pricePerDay",a),r.set("notes",c),e.next=7,r.save();case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,a,c){return e.apply(this,arguments)}}()}]),e}(),R=function(){function e(t){Object(N.a)(this,e),this.id=t.id,this.hostelName=t.get("hostelName"),this.hostelAddress=t.get("hostelAddress"),this.numberOfRooms=t.get("numberOfRooms"),this.parseHostel=t}return Object(C.a)(e,[{key:"deleteHostel",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.parseHostel.destroy(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMyRooms",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,n,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=U.a.Object.extend("Room"),(n=new U.a.Query(t)).equalTo("hostelId",this.parseHostel),e.next=5,n.find();case 5:return a=e.sent,c=a.map((function(e){return new T(e)})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createRoom",value:function(){var e=Object(v.a)(f.a.mark((function e(t,n,a,c){var r,s,i,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=U.a.Object.extend("Room"),(s=new r).set("roomNumber",t),s.set("pricePerDay",a),s.set("maxBeds",n),s.set("notes",c),s.set("hostelId",this.parseHostel),e.next=9,s.save();case 9:return i=e.sent,o=new T(i),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,a,c){return e.apply(this,arguments)}}()}],[{key:"updateHostel",value:function(){var e=Object(v.a)(f.a.mark((function e(t,n,a,c){var r,s,i,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=U.a.Object.extend("Hostel"),s=new U.a.Query(r),e.next=4,s.get(c);case 4:return(i=e.sent).set("hostelAddress",n),i.set("numberOfRooms",a),i.set("hostelName",t),o=i.save(),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}()}]),e}();R.HostelModel=null;var E=function(){function e(t){Object(N.a)(this,e),this.id=t.id,this.title=t.get("title"),this.urgentLevel=t.get("urgentLevel"),this.description=t.get("description"),this.status=t.get("status"),this.notes=t.get("notes"),this.parseCall=t}return Object(C.a)(e,[{key:"deleteCall",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.parseCall.destroy(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCall",value:function(){var e=Object(v.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,n,this.parseCall),(a=this.parseCall).set("notes",t),a.set("status",n),e.next=6,a.save();case 6:e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),L=Object(S.a)("parseUser"),D=function(){function e(t){Object(N.a)(this,e),Object.defineProperty(this,L,{writable:!0,value:void 0}),this.id=t.id,this.fname=t.get("fname"),this.lname=t.get("lname"),this.email=t.get("email"),this.showEmail=t.get("showEmail"),this.room=t.get("room"),this.roomKey=t.get("roomKey"),this.payment=t.get("payment"),this.start=t.get("start"),this.end=t.get("end"),this.img=t.get("img"),this.activate=t.get("activate"),this.tenant=t.get("tenant"),this.hostelKey=t.get("hostelKey"),Object(k.a)(this,L)[L]=t}return Object(C.a)(e,[{key:"getMyHostel",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,n,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=U.a.Object.extend("Hostel"),(n=new U.a.Query(t)).equalTo("userId",Object(k.a)(this,L)[L]),e.next=5,n.find();case 5:return a=e.sent,c=a.map((function(e){return new R(e)})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMyTenants",value:function(){var t=Object(v.a)(f.a.mark((function t(n){var a,c,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=U.a.Object.extend("User"),(c=new U.a.Query(a)).equalTo("hostelKey",n),c.equalTo("activate",!0),t.next=6,c.find();case 6:return r=t.sent,s=r.map((function(t){return new e(t)})),t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getRoomTenants",value:function(){var t=Object(v.a)(f.a.mark((function t(n){var a,c,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=U.a.Object.extend("User"),(c=new U.a.Query(a)).equalTo("roomKey",n),t.next=5,c.find();case 5:return r=t.sent,s=r.map((function(t){return new e(t)})),t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"createHostel",value:function(){var e=Object(v.a)(f.a.mark((function e(t,n,a){var c,r,s,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=U.a.Object.extend("Hostel"),(r=new c).set("hostelName",t),r.set("hostelAddress",n),r.set("numberOfRooms",a),r.set("userId",Object(k.a)(this,L)[L]),e.next=8,r.save();case 8:return s=e.sent,i=new R(s),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"createCall",value:function(){var e=Object(v.a)(f.a.mark((function e(t,n,a){var c,r,s,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=U.a.Object.extend("Call"),(r=new c).set("title",t),r.set("urgentLevel",n),r.set("description",a),r.set("hostelKey",this.hostelKey),r.set("status","sent"),r.set("tenantId",Object(k.a)(this,L)[L]),e.next=10,r.save();case 10:return s=e.sent,i=new E(s),e.abrupt("return",i);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"getMyCalls",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,n,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=U.a.Object.extend("Call"),(n=new U.a.Query(t)).equalTo("tenantId",Object(k.a)(this,L)[L]),e.next=5,n.find();case 5:return a=e.sent,c=a.map((function(e){return new E(e)})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHostelCalls",value:function(){var e=Object(v.a)(f.a.mark((function e(t){var n,a,c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=U.a.Object.extend("Call"),(a=new U.a.Query(n)).equalTo("hostelKey",t),e.next=5,a.find();case 5:return c=e.sent,r=c.map((function(e){return new E(e)})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateTenantRoom",value:function(){var e=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(k.a)(this,L)[L].set("room","ddddS"),console.log(n);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTenant",value:function(){var t=Object(v.a)(f.a.mark((function t(){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(k.a)(this,L)[L],a=new e(n),t.abrupt("return",a);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"deactivateTenant",value:function(){var t=Object(v.a)(f.a.mark((function t(){var n,a,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(k.a)(this,L)[L].set("activate",!1),Object(k.a)(this,L)[L].set("room",""),Object(k.a)(this,L)[L].set("roomKey",""),t.next=5,n.save();case 5:return a=t.sent,c=new e(a),t.abrupt("return",c);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}],[{key:"login",value:function(){var t=Object(v.a)(f.a.mark((function t(n,a){var c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.a.User.logIn(n,a);case 2:return c=t.sent,e.activeUser=new e(c),t.abrupt("return",e.activeUser);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"signup",value:function(){var t=Object(v.a)(f.a.mark((function t(n,a,c,r){var s,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(s=new U.a.User).set("username",n),s.set("email",n),s.set("fname",c),s.set("lname",r),s.set("password",a),t.next=8,s.signUp();case 8:return i=t.sent,e.activeUser=new e(i),t.abrupt("return",e.activeUser);case 11:case"end":return t.stop()}}),t)})));return function(e,n,a,c){return t.apply(this,arguments)}}()},{key:"signupTenant",value:function(){var t=Object(v.a)(f.a.mark((function t(n,a,c,r,s,i,o,l,u,j,b,d){var h,O,p,x,m;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(h=new U.a.User).set("fname",n),h.set("lname",a),h.set("email",c),h.set("showEmail",c),h.set("username",r),h.set("password",s),h.set("room",i),h.set("roomKey",o),h.set("payment",l),h.set("username",r),h.set("tenant",!0),h.set("start",u),h.set("end",j),h.set("hostelKey",b),h.set("activate",!0),d&&h.set("img",new U.a.File(d.name,d)),(O=new U.a.ACL).setPublicWriteAccess(!0),O.setPublicReadAccess(!0),h.setACL(O),t.next=23,h.save({useMasterKey:!0});case 23:return p=U.a.User.current().get("sessionToken"),t.next=26,h.signUp();case 26:return x=t.sent,m=new e(x),t.next=30,U.a.User.become(p);case 30:return t.abrupt("return",m);case 31:case"end":return t.stop()}}),t)})));return function(e,n,a,c,r,s,i,o,l,u,j,b){return t.apply(this,arguments)}}()},{key:"loadActiveUser",value:function(){return e.activeUser=U.a.User.current()?new e(U.a.User.current()):null,e.activeUser}}]),e}();D.activeUser=null;var A=n(116);var M=function(e){var t=e.onLogin,n=e.activeUser,c=e.type,r=Object(a.useState)(""),s=Object(i.a)(r,2),j=s[0],b=s[1],h=Object(a.useState)(""),p=Object(i.a)(h,2),x=p[0],N=p[1],C=Object(a.useState)(""),k=Object(i.a)(C,2),S=k[0],H=k[1],U=Object(a.useState)(""),T=Object(i.a)(U,2),R=T[0],E=T[1],L=Object(a.useState)(!1),M=Object(i.a)(L,2),B=M[0],K=M[1];if(n){if(n.tenant){var I="/tenant/"+n.id;return Object(O.jsx)(l.a,{to:I})}return Object(O.jsx)(l.a,{to:"/hostelspage"})}function P(){return(P=Object(v.a)(f.a.mark((function e(n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,D.login(j,x);case 4:a=e.sent,t(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error while logging in user",e.t0),K(!0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function F(){return(F=Object(v.a)(f.a.mark((function e(n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),a=D.signup(j,x,S,R),t(a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return"Signup"===c?Object(O.jsx)("div",{className:"p-login",children:Object(O.jsx)(u.a,{children:Object(O.jsx)("section",{children:Object(O.jsx)("div",{className:"form-warper",children:Object(O.jsxs)(g.a,{onSubmit:function(e){return F.apply(this,arguments)},children:[Object(O.jsxs)("h3",{children:[Object(O.jsx)(A.a,Object(m.a)({className:"iconWarper"},"className","icon")),c]}),B?Object(O.jsx)(y.a,{variant:"danger",children:"Invalid Credentials!"}):null,Object(O.jsx)(w,{type:"email",placeHolder:"Enter Email",value:j,onChange:function(e){return b(e.target.value)}}),Object(O.jsx)(w,{type:"password",placeHolder:"Enter Password",value:x,onChange:function(e){return N(e.target.value)}}),Object(O.jsx)(w,{type:"text",placeHolder:"First Name",value:S,onChange:function(e){return H(e.target.value)}}),Object(O.jsx)(w,{type:"text",placeHolder:"Last Name",value:R,onChange:function(e){return E(e.target.value)}}),Object(O.jsx)("hr",{}),Object(O.jsx)(o.b,{to:"/login",children:Object(O.jsx)("span",{children:Object(O.jsx)("a",{href:"",children:"Already have an account? Log In"})})}),Object(O.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"})]})})})})}):Object(O.jsx)("div",{className:"p-login",children:Object(O.jsx)(u.a,{children:Object(O.jsx)("section",{children:Object(O.jsx)("div",{className:"form-warper",children:Object(O.jsxs)(g.a,{onSubmit:function(e){return P.apply(this,arguments)},children:[Object(O.jsxs)("h3",{children:[Object(O.jsx)(A.a,Object(m.a)({className:"iconWarper"},"className","icon")),c]}),B?Object(O.jsx)(y.a,{variant:"danger",children:"Invalid Credentials!"}):null,Object(O.jsx)(w,{type:"email",placeHolder:"Enter Email",value:j,onChange:function(e){return b(e.target.value)}}),Object(O.jsx)(w,{type:"password",placeHolder:"Enter Password",value:x,onChange:function(e){return N(e.target.value)}}),Object(O.jsx)("hr",{}),Object(O.jsx)(o.b,{to:"/signup",children:Object(O.jsx)("span",{children:Object(O.jsx)("a",{href:"",children:"Can't log in? Sign up for an account"})})}),Object(O.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"})]})})})})})},B=(n(789),n(790),n(823));var K=function(e){var t=e.show,n=e.onClose,c=e.onCreate,r=e.onUpdate,s=(e.hostelName,e.hostelAddress,e.nunOfRooms,e.action),o=Object(a.useState)(),l=Object(i.a)(o,2),u=l[0],j=l[1],b=Object(a.useState)(),h=Object(i.a)(b,2),p=h[0],x=h[1],f=Object(a.useState)(),m=Object(i.a)(f,2),v=m[0],y=m[1],N=s;function C(){j(""),x(""),y("")}return Object(O.jsx)("div",{className:"c-crudhostel",children:Object(O.jsxs)(B.a,{show:t,onHide:n,children:[Object(O.jsx)(B.a.Header,{closeButton:!0,children:"create"===N?Object(O.jsx)(B.a.Title,{children:"Create New Hostel"}):Object(O.jsxs)(B.a.Title,{children:["Update  ",u]})}),Object(O.jsx)(B.a.Body,{children:Object(O.jsxs)(g.a.Group,{children:[Object(O.jsx)(w,{value:u,type:"text",placeHolder:"Hostel Name",onChange:function(e){return j(e.target.value)}}),Object(O.jsx)(w,{value:p,type:"text",placeHolder:"Hostel Address",onChange:function(e){return x(e.target.value)}}),Object(O.jsx)(w,{value:v,type:"text",placeHolder:"# Rooms",onChange:function(e){return y(e.target.value)}})]})}),Object(O.jsxs)(B.a.Footer,{className:"justify-content-center",children:[Object(O.jsx)(d.a,{variant:"secondary",onClick:n,children:"Close"}),"create"===N?Object(O.jsx)(d.a,{className:"create",variant:"primary",onClick:function(){c(u,p,v),C(),n()},children:"Create"}):Object(O.jsx)(d.a,{className:"create",variant:"primary",onClick:function(){r(u,p,v),C(),n()},children:"Update"})]})]})})};n(791);var I=function(e){var t=e.show,n=e.onClose,a=e.instanseName,c=e.actionOnInstanse,r=e.onDelete;return Object(O.jsx)("div",{className:"c-warningmodel",children:Object(O.jsxs)(B.a,{show:t,onHide:n,children:[Object(O.jsx)(B.a.Header,{closeButton:!0,children:Object(O.jsxs)(B.a.Title,{children:["Remove ",c," ",a," ?"]})}),Object(O.jsxs)(B.a.Footer,{children:[Object(O.jsx)(d.a,{variant:"secondary",onClick:n,children:"Close"}),Object(O.jsx)(d.a,{variant:"primary",onClick:r,children:"Delete"})]})]})})},P=(n(792),n(828)),F=n(826),Q=n(77),G=n(115),W=n(168);var q=function(e){var t,n=e.hostelKey,c=e.hostelAddress,r=e.hostelName,s=e.numberOfRooms,o=e.onDelete,u=e.onEdit,h=Object(a.useState)(),p=Object(i.a)(h,2),x=p[0],f=p[1];return void 0!==x?Object(O.jsx)(l.a,{to:"/hostel/"+x}):Object(O.jsx)("div",{className:"c-hostelaccordion",children:Object(O.jsxs)(P.a,{children:[Object(O.jsx)(P.a.Header,{children:Object(O.jsxs)(F.a.Toggle,{as:d.a,variant:"link",eventKey:n,children:[Object(O.jsx)(W.a,{color:"white"})," ",Object(O.jsx)("span",{children:r})]})}),Object(O.jsx)(F.a.Collapse,{eventKey:n,children:Object(O.jsx)(P.a.Body,{children:Object(O.jsxs)(j.a,{children:[Object(O.jsxs)(b.a,{sm:12,lg:3,children:["Name: ",Object(O.jsx)("span",{children:r})]}),Object(O.jsxs)(b.a,{sm:12,lg:3,children:["Address: ",Object(O.jsx)("span",{children:c})]}),Object(O.jsxs)(b.a,{sm:12,lg:3,children:["# Rooms: ",Object(O.jsx)("span",{children:s})]}),Object(O.jsxs)(b.a,(t={sm:12,lg:3,className:"crud-icons"},Object(m.a)(t,"sm",12),Object(m.a)(t,"children",[Object(O.jsx)(Q.b,{onClick:function(){return u(n)}}),Object(O.jsx)(Q.a,{onClick:function(){return o(r,n)}}),Object(O.jsx)(G.a,{onClick:function(){return f(n)}})]),t))]})})})]})})};var z=function(e){var t=e.activeUser,n=Object(a.useState)(!1),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(!1),l=Object(i.a)(o,2),h=l[0],p=l[1],x=Object(a.useState)(),m=Object(i.a)(x,2),g=m[0],y=m[1],w=Object(a.useState)(),N=Object(i.a)(w,2),C=N[0],k=N[1],S=Object(a.useState)([]),H=Object(i.a)(S,2),T=H[0],E=H[1],L=Object(a.useState)([]),D=Object(i.a)(L,2),A=(D[0],D[1],Object(a.useState)([])),M=Object(i.a)(A,2),B=M[0],P=M[1];function Q(){return(Q=Object(v.a)(f.a.mark((function e(n,a,c){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createHostel(n,a,c);case 2:r=e.sent,E(T.concat(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(v.a)(f.a.mark((function e(n,a,c){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.updateHostel(n,a,c,C);case 2:return e.next=4,t.getMyHostel();case 4:r=e.sent,E(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(v.a)(f.a.mark((function e(){var t,n,a,c,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),t=U.a.Object.extend("Hostel"),n=new U.a.Query(t),e.next=5,n.get(C);case 5:return a=e.sent,c=new R(a),e.next=9,c.deleteHostel();case 9:r=e.sent,s=T.filter((function(e){return e.id!=r.id})),E(s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return J.apply(this,arguments)}function J(){return(J=Object(v.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0),y(t),k(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P("create"),s(!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){P("edit"),s(!0),k(e)}return Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getMyHostel();case 3:n=e.sent,E(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("No Hostels");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}t&&function(){e.apply(this,arguments)}()}),[t]),Object(O.jsx)("div",{className:"p-hostelspage",children:Object(O.jsxs)(u.a,{children:[Object(O.jsxs)(j.a,{className:"p-1 align-items-center",children:[Object(O.jsx)(b.a,{children:Object(O.jsx)("h1",{children:"Hostels"})}),Object(O.jsx)(b.a,{children:Object(O.jsx)(d.a,{id:"add-new",variant:"outline-secondary",type:"submit",onClick:function(){return Y.apply(this,arguments)},children:"Add New Hostel"})})]}),Object(O.jsx)("hr",{}),0!=T.length?Object(O.jsx)(F.a,{defaultActiveKey:"0",children:T.map((function(e){return Object(O.jsx)(q,{hostelKey:e.id,hostelAddress:e.hostelAddress,hostelName:e.hostelName,numberOfRooms:e.numberOfRooms,onEdit:V,onDelete:z},e.id)}))}):Object(O.jsx)("h1",{children:"No Hostels Yet.."}),Object(O.jsx)(K,{onCreate:function(e,t,n){return Q.apply(this,arguments)},onUpdate:function(e,t,n){return G.apply(this,arguments)},show:r,onClose:function(){return s(!1)},hostelName:g,action:B}),Object(O.jsx)(I,{show:h,onClose:function(){return p(!1)},onDelete:function(){return W.apply(this,arguments)},hostelName:g})]})})},J=(n(793),n(825)),Y=n(821);n(794),n(795);var V=function(e){var t=e.room,n=e.editClick,c=e.onDelete,r=e.activeUser,s=Object(a.useState)([]),o=Object(i.a)(s,2),u=(o[0],o[1]),d=Object(a.useState)([]),h=Object(i.a)(d,2),p=h[0],x=h[1];return Object(l.g)().index,Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getRoomTenants(t.id);case 3:n=e.sent,u(n),x(n.map((function(e){return e.fname+", "}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("No Tenants");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}r&&function(){e.apply(this,arguments)}()}),[]),Object(O.jsx)("div",{className:"c-roomcard",children:Object(O.jsx)(P.a,{bg:"info",text:"white",style:{width:"15rem"},className:"mb-2",children:Object(O.jsxs)(P.a.Body,{children:[Object(O.jsxs)(P.a.Title,{children:["Room Number ",Object(O.jsxs)("span",{children:[" ",t.roomNumber]})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)(P.a.Text,{className:"content",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Calls: "}),Object(O.jsx)("span",{children:"0"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Max Beds: "}),Object(O.jsx)("span",{children:t.maxBed})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Price per Day: "}),Object(O.jsx)("span",{children:t.pricePerDay})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Tenants: "}),Object(O.jsx)("span",{}),p]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Notes: "}),Object(O.jsx)("span",{children:t.notes})]})]}),Object(O.jsx)(P.a.Text,{children:Object(O.jsxs)("div",{className:"card-icon-wrper",children:[Object(O.jsx)("hr",{}),Object(O.jsxs)(j.a,{children:[Object(O.jsx)(b.a,{xs:4,className:"crud-icons",children:Object(O.jsx)(Q.b,{onClick:function(){return n(t)}})}),Object(O.jsx)(b.a,{xs:4,className:"crud-icons",children:Object(O.jsx)(Q.a,{onClick:function(){return c(t)}})}),Object(O.jsx)(b.a,{xs:4,className:"crud-icons",children:Object(O.jsx)(G.a,{})})]})]})})]})},"2")})},X=n(206);n(796);var Z=function(e){var t=e.show,n=e.onClose,c=e.onCreate,r=Object(a.useState)(),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)(),j=Object(i.a)(u,2),b=j[0],h=j[1],p=Object(a.useState)(),x=Object(i.a)(p,2),f=x[0],m=x[1],v=Object(a.useState)(),y=Object(i.a)(v,2),N=y[0],C=y[1];return Object(O.jsx)("div",{className:"c-crudhostel",children:Object(O.jsxs)(B.a,{show:t,onHide:n,children:[Object(O.jsx)(B.a.Header,{closeButton:!0,children:Object(O.jsx)(B.a.Title,{children:"Create New Room"})}),Object(O.jsx)(B.a.Body,{children:Object(O.jsxs)(g.a.Group,{children:[Object(O.jsx)(w,{value:o,type:"string",placeHolder:"Room number",onChange:function(e){return l(e.target.value)}}),Object(O.jsx)(w,{value:b,type:"number",placeHolder:"Maximum amount of beds",onChange:function(e){return h(e.target.value)}}),Object(O.jsx)(w,{value:f,type:"number",placeHolder:"Price per day",onChange:function(e){return m(e.target.value)}}),Object(O.jsx)(w,{value:N,type:"string",placeHolder:"Notes",onChange:function(e){return C(e.target.value)}})]})}),Object(O.jsxs)(B.a.Footer,{className:"justify-content-center",children:[Object(O.jsx)(d.a,{variant:"secondary",onClick:n,children:"Close"}),Object(O.jsx)(d.a,{className:"create",variant:"primary",onClick:function(){c(o,b,f,N),h(""),m(""),l(""),n()},children:"Save"})]})]})})},$=(n(797),n(820));var _=function(e){var t=e.show,n=e.onClose,c=e.onUpdate,r=e.room,s=e.activeUser,o=Object(a.useState)(""),u=Object(i.a)(o,2),j=u[0],b=u[1],h=Object(a.useState)(""),p=Object(i.a)(h,2),x=p[0],m=p[1],y=Object(a.useState)(""),N=Object(i.a)(y,2),C=N[0],k=N[1],S=Object(a.useState)(""),H=Object(i.a)(S,2),U=H[0],T=H[1],R=Object(a.useState)([]),E=Object(i.a)(R,2),L=E[0],D=E[1],A=Object(a.useState)([]),M=Object(i.a)(A,2),K=(M[0],M[1],Object(a.useState)([])),I=Object(i.a)(K,2),P=I[0],F=I[1],Q=Object(a.useState)(!1),G=Object(i.a)(Q,2),W=G[0],q=G[1],z=Object(l.g)().index;return Object(a.useEffect)((function(){try{b(r.roomNumber),m(r.maxBed),k(r.pricePerDay),T(r.notes)}catch(e){console.log("No Tenant")}}),[r.id]),Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.getRoomTenants(r.id);case 3:return t=e.sent,D(t),e.next=7,s.getMyTenants(z);case 7:n=e.sent,a=n.filter((function(e){return!t.find((function(t){var n=t.id;return e.id===n}))})),F(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("No Tenants");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}s&&function(){e.apply(this,arguments)}()}),[r.id]),Object(O.jsx)("div",{className:"c-crudhostel",children:Object(O.jsxs)(B.a,{show:t,onHide:n,children:[Object(O.jsx)(B.a.Header,{closeButton:!0,children:Object(O.jsxs)(B.a.Title,{children:["Edit room Number ",Object(O.jsx)("span",{children:j})]})}),Object(O.jsx)(B.a.Body,{children:Object(O.jsxs)(g.a.Group,{children:[Object(O.jsx)(w,{value:j,type:"string",placeHolder:"Room number",onChange:function(e){return b(e.target.value)}}),Object(O.jsx)(w,{value:x,type:"number",placeHolder:"Maximum amount of beds",onChange:function(e){return m(e.target.value)}}),Object(O.jsx)(w,{value:C,type:"number",placeHolder:"Price per day",onChange:function(e){return k(e.target.value)}}),Object(O.jsx)(w,{value:U,type:"string",placeHolder:"Notes",onChange:function(e){return T(e.target.value)}}),Object(O.jsx)("h5",{children:"Tenants:"}),Object(O.jsx)($.a,{hover:!0,className:"tenant-table",children:Object(O.jsx)("tbody",{children:L.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{id:e.id,children:[e.fname+" "+e.lname,"   "]}),Object(O.jsx)("td",{children:Object(O.jsx)(d.a,{variant:"outline-secondary",onClick:function(){return function(e){var t=L.filter((function(t){return t.id!=e.id}));D(t),F(P.concat(e))}(e)},children:" Remove "})})]},e.id)}))})}),Object(O.jsx)("div",{children:Object(O.jsx)(d.a,{className:"add-tenant",variant:"outline-success",onClick:function(){q(!W)},children:" Add Tenants "})}),W?Object(O.jsx)($.a,{hover:!0,className:"tenant-table",children:Object(O.jsx)("tbody",{children:P.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{id:e.id,children:[e.fname+" "+e.lname,"   "]}),Object(O.jsxs)("td",{children:["  ",Object(O.jsx)(d.a,{variant:"outline-success",onClick:function(){return function(e){var t=P.filter((function(t){return t.id!=e.id}));D(L.concat(e)),F(t)}(e)},children:" Add "})]})]},e.id)}))})}):null]})}),Object(O.jsxs)(B.a.Footer,{className:"justify-content-center",children:[Object(O.jsx)(d.a,{variant:"secondary",onClick:function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getRoomTenants(r.id);case 2:return t=e.sent,q(!1),D(t),e.next=7,s.getMyTenants(z);case 7:n=e.sent,a=n.filter((function(e){return!t.find((function(t){var n=t.id;return e.id===n}))})),F(a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(),function(){e.apply(this,arguments)}()},children:" Close "}),Object(O.jsx)(d.a,{className:"Edit",variant:"primary",onClick:function(){c(j,x,C,U,L),b(""),m(""),k(""),T(""),n()},children:" Edit "})]})]})})};var ee=function(e){var t=e.activeUser,n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)([]),u=Object(i.a)(o,2),j=u[0],b=u[1],d=Object(a.useState)(!1),h=Object(i.a)(d,2),p=h[0],x=h[1],m=Object(a.useState)(),g=Object(i.a)(m,2),y=g[0],w=g[1],N=Object(a.useState)(!1),C=Object(i.a)(N,2),k=C[0],S=C[1],H=Object(a.useState)(),T=Object(i.a)(H,2),E=T[0],L=T[1],D=Object(l.g)().index;function A(){return(A=Object(v.a)(f.a.mark((function e(t,n,a,c){var s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.createRoom(t,n,a,c);case 2:s=e.sent,b(j.concat(s));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){w(!0),L(e),console.log(e)}function B(){return(B=Object(v.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!1),e.next=3,E.deleteRoom();case 3:t=e.sent,n=j.filter((function(e){return e.id!=t.id})),b(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){S(!0),L(e)}function F(){return(F=Object(v.a)(f.a.mark((function e(t,n,a,c,s){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.map((function(e){return Q(e)})),e.next=3,E.updateRoom(t,n,a,c);case 3:return e.next=5,r.getMyRooms();case 5:i=e.sent,b(i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return G.apply(this,arguments)}function G(){return(G=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateTenantRoom(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var t,n,a,c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=U.a.Object.extend("Hostel"),n=new U.a.Query(t),e.next=4,n.get(D);case 4:return a=e.sent,c=new R(a),e.next=8,c.getMyRooms();case 8:r=e.sent,s(c),b(r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(O.jsxs)("div",{className:"c-roomsection",children:[Object(O.jsxs)("div",{className:"cards-warper",children:[Object(O.jsx)(P.a,{bg:"info",text:"white",style:{width:"15rem"},className:"mb-2 add-card",onClick:function(){return x(!0)},children:Object(O.jsxs)(P.a.Body,{children:[Object(O.jsx)(X.a,{}),Object(O.jsx)("h5",{children:"New Room"})]})},"1"),j.map((function(e){return Object(O.jsx)(V,{room:e,onDelete:M,editClick:K,activeUser:t})}))]}),Object(O.jsx)(Z,{onCreate:function(e,t,n,a){return A.apply(this,arguments)},onClose:function(){return x(!1)},show:p}),E?Object(O.jsx)(_,{show:k,onClose:function(){return S(!1)},onUpdate:function(e,t,n,a,c){return F.apply(this,arguments)},room:E,activeUser:t}):null,E?Object(O.jsx)(I,{show:y,onClose:function(){return w(!1)},onDelete:function(){return B.apply(this,arguments)},actionOnInstanse:"Room number:  ",instanseName:E.roomNumber}):null]})},te=n(261);n(798),n(799);var ne=function(e){return Object(O.jsx)("div",{className:"c-tenantcard",children:Object(O.jsxs)(P.a,{bg:"info",text:"white",style:{width:"20rem"},className:"mb-2",children:[Object(O.jsx)(P.a.Img,{variant:"top",src:e.img.url()}),Object(O.jsx)(P.a.Body,{children:Object(O.jsxs)(P.a.Text,{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Name: "}),Object(O.jsx)("span",{children:e.fname+" "+e.lname})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Room: "}),Object(O.jsx)("span",{children:e.room})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Email: "}),Object(O.jsx)("span",{children:e.showEmail})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Start: "}),Object(O.jsx)("span",{children:e.start})]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"End: "}),Object(O.jsx)("span",{children:e.end})]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{className:"font-weight-bold",children:"Payment: "}),Object(O.jsx)("span",{children:e.payment})]}),Object(O.jsx)("div",{className:"card-icon-wrper",children:Object(O.jsxs)(j.a,{children:[Object(O.jsx)(b.a,{xs:4,className:"crud-icons",children:Object(O.jsx)(Q.b,{})}),Object(O.jsx)(b.a,{xs:4,className:"crud-icons",children:Object(O.jsx)(Q.a,{onClick:function(){return e.onDelete(e.fname,e.lname,e.id)}})}),Object(O.jsx)(b.a,{xs:4,className:"crud-icons",children:Object(O.jsx)(G.a,{})})]})})]})})]},"2")})},ae=(n(800),n(389)),ce=n(822);n(801);var re=function(e){var t=e.rooms,n=e.onClick,r=Object(a.useState)(),s=Object(i.a)(r,2),o=s[0],l=s[1],u=function(e){l(e.target.innerHTML),n(e.target.innerHTML,e.target.id)},j=c.a.forwardRef((function(e,t){var n=e.children,a=e.onClick;return Object(O.jsxs)("a",{href:"",ref:t,onClick:function(e){e.preventDefault(),a(e)},children:[n,"\u25bc"]})})),b=c.a.forwardRef((function(e,t){var n=e.children,r=e.style,s=e.className,o=e["aria-labelledby"],l=Object(a.useState)(""),u=Object(i.a)(l,2),j=u[0],b=u[1];return Object(O.jsxs)("div",{ref:t,style:r,className:s,"aria-labelledby":o,children:[Object(O.jsx)(ae.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Search...",onChange:function(e){return b(e.target.value)},value:j}),Object(O.jsx)("ul",{className:"list-unstyled",children:c.a.Children.toArray(n).filter((function(e){return!j||e.props.children.toLowerCase().startsWith(j)}))})]})}));return Object(O.jsx)("div",{className:"c-roomdropdown",children:Object(O.jsxs)(ce.a,{children:[Object(O.jsxs)(ce.a.Toggle,{as:j,id:"dropdown-custom-components",children:["Choose Room: ",o]}),Object(O.jsx)(ce.a.Menu,{as:b,children:t.map((function(e){return Object(O.jsx)(ce.a.Item,{eventKey:e.key,id:e.id,onClick:u,children:e.roomNumber})}))})]})})};var se=function(e){var t=e.show,n=e.onClose,c=e.onCreate,r=e.rooms,s=Object(a.useState)(),o=Object(i.a)(s,2),l=o[0],u=o[1],j=Object(a.useState)(),b=Object(i.a)(j,2),p=b[0],x=b[1],f=Object(a.useState)(),m=Object(i.a)(f,2),v=m[0],y=m[1],N=Object(a.useState)(),C=Object(i.a)(N,2),k=C[0],S=C[1],H=Object(a.useState)(),U=Object(i.a)(H,2),T=U[0],R=U[1],E=Object(a.useState)(),L=Object(i.a)(E,2),D=L[0],A=L[1],M=Object(a.useState)(),K=Object(i.a)(M,2),I=K[0],P=K[1],F=Object(a.useState)(),Q=Object(i.a)(F,2),G=Q[0],W=Q[1],q=Object(a.useState)(),z=Object(i.a)(q,2),J=z[0],Y=z[1],V=Object(a.useState)(),X=Object(i.a)(V,2),Z=X[0],$=X[1],_=Object(a.useState)(null),ee=Object(i.a)(_,2),te=ee[0],ne=ee[1];return Object(O.jsx)("div",{className:"c-crudtenant",children:Object(O.jsxs)(B.a,{show:t,onHide:n,children:[Object(O.jsx)(B.a.Header,{closeButton:!0,children:Object(O.jsx)(B.a.Title,{children:"Create New Tenant"})}),Object(O.jsx)(B.a.Body,{children:Object(O.jsxs)(g.a.Group,{children:[Object(O.jsx)(w,{value:l,type:"string",placeHolder:"First Name",onChange:function(e){return u(e.target.value)}}),Object(O.jsx)(w,{value:p,type:"string",placeHolder:"Last Name",onChange:function(e){return x(e.target.value)}}),Object(O.jsx)(w,{value:v,type:"email",placeHolder:"Email",onChange:function(e){return y(e.target.value)}}),Object(O.jsx)(w,{value:k,type:"string",placeHolder:"Username",onChange:function(e){return S(e.target.value)}}),Object(O.jsx)(w,{value:T,type:"password",placeHolder:"Password",onChange:function(e){return R(e.target.value)}}),Object(O.jsx)(re,{rooms:r,value:D,onClick:function(e,t){return function(e,t){A(e),P(t)}(e,t)}}),Object(O.jsx)(w,{value:G,type:"string",placeHolder:"Payment",onChange:function(e){return W(e.target.value)}}),Object(O.jsx)(w,{value:J,type:"date",placeHolder:"Start",onChange:function(e){return Y(e.target.value)}}),Object(O.jsx)(w,{value:Z,type:"date",placeHolder:"End",onChange:function(e){return $(e.target.value)}}),Object(O.jsx)("div",{className:"file-input-warper",children:Object(O.jsxs)("label",{for:"file-input",children:[Object(O.jsx)("img",{src:"/hostel-management/img/upload.gif"}),Object(O.jsx)("p",{children:"Upload profile picture"})]})}),Object(O.jsx)(g.a.Control,{id:"file-input",type:"file",accept:"image/*",onChange:function(e){1===e.target.files.length?ne(e.target.files[0]):ne(null)}}),Object(O.jsx)(h.a,{src:te?URL.createObjectURL(te):""})]})}),Object(O.jsxs)(B.a.Footer,{className:"justify-content-center",children:[Object(O.jsx)(d.a,{onClick:n,variant:"secondary",children:"Close"}),Object(O.jsx)(d.a,{onClick:function(){c(l,p,v,k,T,D,I,G,J,Z,te),u(""),x(""),y(""),S(""),R(""),A(""),W(""),Y(""),$(""),ne(null),n()},className:"create",variant:"primary",children:"Create"})]})]})})};var ie=function(e){var t=e.activeUser,n=Object(a.useState)(),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(),u=Object(i.a)(o,2),j=u[0],b=u[1],d=Object(a.useState)(),h=Object(i.a)(d,2),p=h[0],x=h[1],m=Object(a.useState)(),g=Object(i.a)(m,2),y=g[0],w=g[1],N=Object(a.useState)(),C=Object(i.a)(N,2),k=C[0],S=C[1],H=Object(a.useState)([]),T=Object(i.a)(H,2),E=(T[0],T[1]),L=Object(a.useState)([]),A=Object(i.a)(L,2),M=A[0],B=A[1],K=Object(a.useState)([]),F=Object(i.a)(K,2),Q=F[0],G=F[1],W=Object(l.g)().index;function q(){return(q=Object(v.a)(f.a.mark((function e(t,n,a,c,r,s,i,o,l,u,j){var b;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.signupTenant(t,n,a,c,r,s,i,o,l,u,W,j);case 2:b=e.sent,G(Q.concat(b));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t,n){b(!0),x(e),w(t),S(n)}function J(){return(J=Object(v.a)(f.a.mark((function e(){var n,a,c,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!1),n=U.a.Object.extend("User"),a=new U.a.Query(n),e.next=5,a.get(k);case 5:return c=e.sent,r=new D(c),e.next=9,r.deactivateTenant();case 9:return e.next=11,t.getMyTenants(W);case 11:s=e.sent,G(s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getMyTenants(W);case 3:n=e.sent,G(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("No Tenants");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}t&&function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var t,n,a,c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=U.a.Object.extend("Hostel"),n=new U.a.Query(t),e.next=4,n.get(W);case 4:return a=e.sent,c=new R(a),e.next=8,c.getMyRooms();case 8:r=e.sent,E(c),B(r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(O.jsxs)("div",{className:"c-tenantssection",children:[Object(O.jsxs)("div",{className:"cards-warper",children:[Object(O.jsx)(P.a,{bg:"info",text:"white",style:{width:"20rem"},className:"mb-2 add-card",children:Object(O.jsxs)(P.a.Body,{onClick:function(){return s(!0)},children:[Object(O.jsx)(X.a,{}),Object(O.jsx)("h5",{children:"New Tenants"})]})},"1"),Q.map((function(e){return Object(O.jsx)(ne,Object(te.a)(Object(te.a)({},e),{},{onDelete:z}))}))]}),Object(O.jsx)(se,{onClose:function(){return s(!1)},show:r,onCreate:function(e,t,n,a,c,r,s,i,o,l,u){return q.apply(this,arguments)},rooms:M}),Object(O.jsx)(I,{show:j,onClose:function(){return b(!1)},onDelete:function(){return J.apply(this,arguments)},actionOnInstanse:"Tenant:  ",instanseName:p+" "+y})]})};n(802),n(803);var oe=function(e){var t,n=e.call,c=e.onDelete,r=e.role,s=e.onClickUpdate,o=Object(a.useState)(),l=Object(i.a)(o,2),u=l[0],h=l[1],p=Object(a.useState)(),x=Object(i.a)(p,2),f=x[0],v=x[1];Object(a.useEffect)((function(){h(n.parseCall.attributes.tenantId.attributes.fname+" "+n.parseCall.attributes.tenantId.attributes.lname),v(n.parseCall.attributes.tenantId.attributes.room)}),[]);var g={};return g="Done"==n.status?{backgroundColor:"DodgerBlue"}:{background:"radial-gradient(grey, black)"},Object(O.jsx)("div",{className:"c-callaccordion",children:Object(O.jsxs)(P.a,{children:[Object(O.jsx)(P.a.Header,{style:g,children:Object(O.jsxs)(F.a.Toggle,{as:d.a,variant:"link",eventKey:n.id,children:[Object(O.jsx)(W.a,{color:"white"})," ",Object(O.jsx)("span",{children:n.title})]})}),Object(O.jsx)(F.a.Collapse,{eventKey:n.id,children:Object(O.jsx)(P.a.Body,{children:"tenant"==r?Object(O.jsxs)(j.a,{children:[Object(O.jsxs)(b.a,{sm:12,lg:2,children:["Title:",Object(O.jsx)("br",{}),Object(O.jsx)("span",{children:n.title})]}),Object(O.jsxs)(b.a,{sm:12,lg:2,children:["Status:",Object(O.jsx)("br",{}),Object(O.jsx)("span",{children:n.status})]}),Object(O.jsxs)(b.a,{sm:12,lg:2,children:["Description:",Object(O.jsx)("br",{}),Object(O.jsx)("span",{children:n.description})]}),Object(O.jsxs)(b.a,{sm:12,lg:2,children:["Urgency Level:",Object(O.jsx)("br",{}),Object(O.jsx)("span",{children:n.urgentLevel})]}),Object(O.jsxs)(b.a,{sm:12,lg:2,children:["Managment Notes:",Object(O.jsx)("br",{}),Object(O.jsx)("span",{children:n.notes})]}),Object(O.jsx)(b.a,(t={sm:12,lg:2,className:"crud-icons"},Object(m.a)(t,"sm",12),Object(m.a)(t,"children",Object(O.jsx)(d.a,{variant:"secondary",onClick:function(){return c(n)},children:Object(O.jsx)("span",{children:"Remove"})})),t))]}):Object(O.jsx)("div",{children:Object(O.jsxs)(j.a,{children:[Object(O.jsxs)(b.a,{sm:12,lg:2,children:["Tenant Name:",Object(O.jsx)("br",{})," ",Object(O.jsx)("span",{children:u})]}),Object(O.jsxs)(b.a,{sm:12,lg:2,children:["Room Number:",Object(O.jsx)("br",{})," ",Object(O.jsx)("span",{children:f})]}),Object(O.jsxs)(b.a,{sm:12,lg:2,children:["Title:",Object(O.jsx)("br",{}),Object(O.jsx)("span",{children:n.title})]}),Object(O.jsxs)(b.a,{sm:12,lg:2,children:["Description:",Object(O.jsx)("br",{}),Object(O.jsx)("span",{children:n.description})]}),Object(O.jsxs)(b.a,{sm:12,lg:2,children:["Urgency Level:",Object(O.jsx)("br",{}),Object(O.jsx)("span",{children:n.urgentLevel})]}),Object(O.jsx)(b.a,{sm:12,lg:2,children:Object(O.jsx)(d.a,{className:"update-status",onClick:function(){return s(n)},children:Object(O.jsx)("span",{children:"Update Status"})})})]})})})})]})})};n(804);var le=function(e){var t=e.show,n=e.onClose,c=e.onUpdate,r=Object(a.useState)(),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)(),j=Object(i.a)(u,2),b=j[0],h=j[1],p=function(){h(""),l("")},x=function(e){h(e.target.value)};return Object(O.jsx)("div",{className:"c-updatecall",children:Object(O.jsxs)(B.a,{show:t,onHide:n,children:[Object(O.jsx)(B.a.Header,{closeButton:!0,children:Object(O.jsx)(B.a.Title,{children:"Update Call"})}),Object(O.jsxs)(B.a.Body,{children:[Object(O.jsx)(g.a.Group,{children:Object(O.jsxs)("div",{className:"radio-warper",children:[Object(O.jsx)("input",{type:"radio",value:"notDone",name:"call",onChange:x})," In Process",Object(O.jsx)("input",{type:"radio",value:"Done",name:"call",onChange:x})," Done"]})}),Object(O.jsx)(w,{value:o,type:"string",placeHolder:"Notes",onChange:function(e){return l(e.target.value)}})]}),Object(O.jsxs)(B.a.Footer,{className:"justify-content-center",children:[Object(O.jsx)(d.a,{variant:"secondary",onClick:function(){p(),n()},children:"close"}),Object(O.jsx)(d.a,{onClick:function(){c(o,b),p(),n()},className:"create",variant:"primary",children:"Update"})]})]})})};var ue=function(e){var t=e.activeUser,n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)([]),u=Object(i.a)(o,2),j=u[0],b=u[1],d=Object(a.useState)(!1),h=Object(i.a)(d,2),p=h[0],x=h[1],m=Object(l.g)().index;function g(){return(g=Object(v.a)(f.a.mark((function e(n,a){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.updateCall(n,a);case 2:return e.sent,e.next=5,t.getHostelCalls(m);case 5:c=e.sent,s(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){x(!0),b(e)}return Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getHostelCalls(m);case 3:n=e.sent,s(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("No Calss");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}t&&function(){e.apply(this,arguments)}()}),[]),Object(O.jsxs)("div",{className:"c-callssection",children:[0!=r.length?Object(O.jsx)(F.a,{defaultActiveKey:"0",children:r.map((function(e){return Object(O.jsx)(oe,{call:e,role:"admin",onClickUpdate:y})}))}):Object(O.jsx)("h2",{className:"no-data",children:"No Calls...)"}),Object(O.jsx)(le,{show:p,onClose:function(){return x(!1)},onUpdate:function(e,t){return g.apply(this,arguments)}})]})};var je=function(e){var t=e.activeUser,n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)("rooms"),d=Object(i.a)(o,2),h=d[0],p=d[1],x=Object(a.useState)([]),m=Object(i.a)(x,2),g=(m[0],m[1]),y=Object(l.g)().index;return Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var t,n,a,c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=U.a.Object.extend("Hostel"),n=new U.a.Query(t),e.next=4,n.get(y);case 4:return a=e.sent,c=new R(a),e.next=8,c.getMyRooms();case 8:r=e.sent,s(c),g(r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(O.jsx)("div",{className:"p-hostelpage",children:Object(O.jsxs)(u.a,{children:[Object(O.jsx)(j.a,{className:"p-1 align-items-center",children:Object(O.jsx)(b.a,{children:Object(O.jsx)("h1",{children:Object(O.jsxs)("a",{href:"https://adamts1.github.io/hostel-management/#/hostelspage",children:[r.hostelName," "]})})})}),Object(O.jsxs)(J.a,{id:"controlled-tab-example",activeKey:h,onSelect:function(e){return p(e)},children:[Object(O.jsx)(Y.a,{eventKey:"rooms",title:"Rooms"}),Object(O.jsx)(Y.a,{eventKey:"tenants",title:"Tenants"}),Object(O.jsx)(Y.a,{eventKey:"calls",title:"Calls"})]}),Object(O.jsx)("hr",{}),"rooms"===h&&Object(O.jsx)(ee,{activeUser:t}),"tenants"===h&&Object(O.jsx)(ie,{activeUser:t}),"calls"===h&&Object(O.jsx)(ue,{activeUser:t})]})})};n(805),n(806);var be=function(e){var t=e.show,n=e.onClose,c=e.onCreate,r=Object(a.useState)(),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)(),j=Object(i.a)(u,2),b=j[0],h=j[1],p=Object(a.useState)(),x=Object(i.a)(p,2),f=x[0],m=x[1];return Object(O.jsx)("div",{className:"c-crudhostel",children:Object(O.jsxs)(B.a,{show:t,onHide:n,children:[Object(O.jsx)(B.a.Header,{closeButton:!0,children:Object(O.jsx)(B.a.Title,{children:"Create New Call"})}),Object(O.jsx)(B.a.Body,{children:Object(O.jsxs)(g.a.Group,{children:[Object(O.jsx)(w,{value:o,type:"string",placeHolder:"Title",onChange:function(e){return l(e.target.value)}}),Object(O.jsx)(w,{value:f,type:"string",placeHolder:"urgenLevel",onChange:function(e){return m(e.target.value)}}),Object(O.jsx)("textarea",{value:b,type:"string",placeHolder:"Description",onChange:function(e){return h(e.target.value)}})]})}),Object(O.jsxs)(B.a.Footer,{className:"justify-content-center",children:[Object(O.jsx)(d.a,{variant:"secondary",onClick:n,children:" Close "}),Object(O.jsx)(d.a,{className:"create",variant:"primary",onClick:function(){c(o,f,b),l(""),h(""),m(""),n()},children:" Save "})]})]})})};var de=function(e){var t=e.activeUser,n=(Object(l.g)().index,Object(a.useState)(!1)),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(),p=Object(i.a)(o,2),x=p[0],m=p[1],g=Object(a.useState)([]),y=Object(i.a)(g,2),w=y[0],N=y[1],C=Object(a.useState)(!1),k=Object(i.a)(C,2),S=k[0],H=k[1];function U(){return(U=Object(v.a)(f.a.mark((function e(n,a,c){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createCall(n,a,c);case 2:r=e.sent,N(w.concat(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return R.apply(this,arguments)}function R(){return(R=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t),H(!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(v.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!1),e.next=3,x.deleteCall();case 3:t=e.sent,n=w.filter((function(e){return e.id!=t.id})),N(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getMyCalls();case 3:n=e.sent,N(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("No Calls");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}t&&function(){e.apply(this,arguments)}()}),[t]),Object(O.jsxs)("div",{className:"p-tenantpage",children:[Object(O.jsxs)(u.a,{children:[Object(O.jsxs)(j.a,{children:[Object(O.jsx)(b.a,{sm:12,lg:4,children:Object(O.jsx)("div",{className:"summary-box",children:Object(O.jsxs)(j.a,{children:[Object(O.jsx)(b.a,{xs:12,children:Object(O.jsx)(h.a,{src:t.img.url(),rounded:!0})}),Object(O.jsxs)(b.a,{xs:12,className:"profile-content",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"title",children:"Full Name: "}),Object(O.jsx)("span",{children:t.fname+" "+t.lname})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"title",children:"Start date: "}),Object(O.jsx)("span",{children:t.start})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"title",children:"End date: "}),Object(O.jsx)("span",{children:t.end})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"title",children:"Payment: "}),Object(O.jsxs)("span",{children:[" ",t.payment]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"title",children:"Open Calls: "}),Object(O.jsxs)("span",{children:["  ",w.length]})]})]})]})})}),Object(O.jsxs)(b.a,{sm:12,lg:8,className:"call-accordion",children:[Object(O.jsxs)(j.a,{className:"p-1 align-items-center",children:[Object(O.jsx)(b.a,{children:Object(O.jsx)("h1",{children:"My Calls"})}),Object(O.jsx)(b.a,{children:Object(O.jsx)(d.a,{id:"add-new",variant:"outline-secondary",type:"submit",onClick:function(){return s(!0)},children:"Open Call"})})]}),0!=w.length?Object(O.jsx)(F.a,{defaultActiveKey:"0",children:w.map((function(e){return Object(O.jsx)(oe,{call:e,onDelete:T,role:"tenant"})}))}):Object(O.jsx)("h2",{className:"no-data",children:"No Calls...)"})]})]}),Object(O.jsx)(be,{show:r,onClose:function(){return s(!1)},onCreate:function(e,t,n){return U.apply(this,arguments)}})]}),x?Object(O.jsx)(I,{show:S,onClose:function(){return H(!1)},onDelete:function(){return E.apply(this,arguments)},actionOnInstanse:"Call of:  ",instanseName:x.title}):null]})},he=(n(807),n(827));var Oe=function(e){var t=e.onLogout,n=e.activeUser;return Object(O.jsx)("div",{className:"c-navbar",children:Object(O.jsx)("header",{className:"fixed-top",children:Object(O.jsxs)(he.a,{className:"p-3",children:[Object(O.jsxs)("div",{className:"brand",children:[Object(O.jsx)(A.a,Object(m.a)({className:"iconWarper"},"className","icon")),n?Object(O.jsx)(he.a.Brand,{href:"https://adamts1.github.io/hostel-management/#/hostelspage",children:"HOSTEL MANAGMENT"}):Object(O.jsx)(he.a.Brand,{href:"https://adamts1.github.io/hostel-management/",children:"HOSTEL MANAGMENT"})]}),Object(O.jsxs)("div",{className:"float-right buttons",children:[n?null:Object(O.jsxs)(o.b,{to:"/login",children:[" ",Object(O.jsx)(d.a,{variant:"outline-light text-dark",children:"Log in"})]}),n?null:Object(O.jsx)(o.b,{to:"/signup",children:Object(O.jsx)(d.a,{variant:"primary text-white",children:"Sign up"})}),n?Object(O.jsxs)("span",{children:["Hello ",Object(O.jsxs)("span",{children:[n.fname," !"]})]}):null,n?Object(O.jsx)(o.b,{to:"/",children:Object(O.jsx)(d.a,{variant:"outline-light text-dark",onClick:t,children:"Logout"})}):null]})]})})})};n(808);var pe=function(){return Object(O.jsx)("div",{className:"c-footer",children:Object(O.jsxs)("footer",{class:"text-white text-dark",children:[Object(O.jsx)("div",{className:"footer-personal-data",children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{className:"global-footer-list-item",children:Object(O.jsx)("a",{children:"Facebook"})}),Object(O.jsx)("li",{className:"global-footer-list-item",children:Object(O.jsx)("a",{children:"LinkdIn"})}),Object(O.jsx)("li",{className:"global-footer-list-item",children:Object(O.jsx)("a",{children:"Personal Website"})}),Object(O.jsx)("li",{className:"global-footer-list-item",children:Object(O.jsx)("a",{children:"GitHub"})})]})}),Object(O.jsx)("p",{children:Object(O.jsxs)("h4",{children:[Object(O.jsx)(A.a,Object(m.a)({className:"iconWarper"},"className","icon")),"HOSTEL MANAGMENT"]})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h5",{children:"Adam Tsityat"}),Object(O.jsx)("p",{children:" \xa9 Copyright 2021. All rights reserved."})]})]})})};n(809);var xe=function(){var e=Object(a.useState)(D.loadActiveUser()),t=Object(i.a)(e,2),n=t[0],c=t[1],r=function(){c(null),U.a.User.logOut()};return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(o.a,{children:Object(O.jsxs)(l.d,{children:[Object(O.jsxs)(l.b,{exact:!0,path:"/",children:[Object(O.jsx)(Oe,{}),Object(O.jsx)(p,{}),Object(O.jsx)(pe,{})]}),Object(O.jsxs)(l.b,{exact:!0,path:"/login",children:[Object(O.jsx)(M,{type:"Login",activeUser:n,onLogin:function(e){return c(e)}}),Object(O.jsx)(pe,{})]}),Object(O.jsxs)(l.b,{exact:!0,path:"/signup",children:[Object(O.jsx)(M,{type:"Signup",activeUser:n,onLogin:function(e){return c(e)}}),Object(O.jsx)(pe,{})]}),Object(O.jsxs)(l.b,{exact:!0,path:"/tenant/:index",children:[Object(O.jsx)(Oe,{activeUser:n,onLogout:r}),Object(O.jsx)(de,{activeUser:n}),Object(O.jsx)(pe,{})]}),Object(O.jsxs)(l.b,{exact:!0,path:"/hostelspage",children:[Object(O.jsx)(Oe,{activeUser:n,onLogout:r}),Object(O.jsx)(z,{activeUser:n}),Object(O.jsx)(pe,{})]}),Object(O.jsxs)(l.b,{exact:!0,path:"/hostel/:index",children:[Object(O.jsx)(Oe,{activeUser:n,onLogout:r}),Object(O.jsx)(je,{activeUser:n}),Object(O.jsx)(pe,{})]})]})})})},fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,829)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},me=n(13);me.serverURL="https://parseapi.back4app.com",me.initialize("QG0DWl75WK7Qtwa8VfIboB58fkcA0xcRpzK4WqPI","EDiF5hOlYeclkCSmNhPEes3MjdkIUQsJp7QmkECv"),s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(xe,{})}),document.getElementById("root")),fe()}},[[810,1,2]]]);
//# sourceMappingURL=main.4add4491.chunk.js.map